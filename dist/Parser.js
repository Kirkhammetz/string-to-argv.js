"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,a,t){return a&&r(e.prototype,a),t&&r(e,t),e}}(),Parser=function(){function r(e){if(_classCallCheck(this,r),!e||!e.length)throw new Error("Parser: command provided is empty.");if("string"!=typeof e)throw new Error("Parser: command must be a string!");this.raw=e;var a=this.stringToArray(e.replace(/\s{2,}/g,"").replace(/\t|\n/g," "));if(this.command=a[0],this._=[],a.length){var t=this.parse(a.slice(1));if(!Object.assign){for(var s in t)t.hasOwnProperty(s)&&(this[s]=t[s]);return!0}return Object.assign(this,t)}}return _createClass(r,[{key:"stringToArray",value:function(r){return r.match(/[^\s"']+|"([^"]*)"|'([^']*)'/g)}},{key:"parse",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r.length)return e;if(r[0].match(/^\-[^\-].*/)){var a=r[0].replace("-","");return r[1]&&r[1].match(/^\-.*/)?(e[a]=!0,this.parse(r.splice(1),e)):r[1]?(e[a]=r[1],this.parse(r.splice(2),e)):(e[a]=!0,this.parse(r.splice(1),e))}if(r[0].match(/^\-{2}.*\=$/)){var t=r[0].match(/--(.*)=/)[1];return e[t]=r[1].replace(/"/g,""),this.parse(r.splice(2),e)}if(r[0].match(/^\-{2}.*\={1}.*$/)){var s=r[0].match(/\-{2}(.*)=/)[1];return e[s]=r[0].match(/\={1}(.*)/)[1],this.parse(r.splice(1),e)}if(r[0].match(/^\-{2}.*$/)){var i=r[0].replace("--","");if(!r[1]||r[1]&&r[1].match(/^\-{1,}/))return e[i]=!0,this.parse(r.slice(1),e);if(r[1]&&!r[1].match(/^\-{1,}/))return e[i]=r[1],this.parse(r.slice(2),e)}return this._.push(r.shift()),this.parse(r,e)}}]),r}();global&&!global.Parser?global.Parser=Parser:window&&!window.Parser&&(window.Parser=Parser),module.exports=Parser;